<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shell function to help with Python's Virtual Environment - My Blog</title>
    <link rel="stylesheet" href="style.css">
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>

    
</head>
<body>
    <header>
        <a class="title" href="index.html">
            <h1>aaron-pm</h1>
        </a>
        <nav>
            <p>
                
                <a href="index.html">Home</a>
                
                <a href="contact/index.html">Contact</a>
                
                <a href="https://github.com/aaronmurniadi/cv-typst/releases/latest/download/aaron_murniadi_cv.pdf">CV</a>
               </p>
        </nav>
    </header>

    <main>
        
<article class="post">
    <div id="footnote-tooltip" style="display: none;"></div>

    <h1>Shell function to help with Python's Virtual Environment</h1>
    
    
    <p><time datetime="2025-02-12">2025-02-12</time></p>
    
    
    <div class="post-content">
        <p>Managing Python projects often involves juggling multiple dependencies and Python versions. Virtual environments are a lifesaver, allowing you to isolate project dependencies and avoid conflicts. While Python&rsquo;s <code>venv</code> module is excellent, creating and activating environments can be a bit repetitive. To streamline this process, I&rsquo;ve created a simple Bash function called <code>ve()</code> that simplifies virtual environment management:</p>
<pre class="codehilite"><code class="language-shell">ve() {
    local py=&quot;${1:-python3}&quot;
    local venv=&quot;${2:-.venv}&quot;
    local venv_path=&quot;./${venv}&quot;

    local activate_script=&quot;${venv_path}/bin/activate&quot;

    if [[ -n &quot;$VIRTUAL_ENV&quot; ]]; then
        echo &quot;Already in a virtual environment: $VIRTUAL_ENV&quot;
        return 0
    fi

    if [[ ! -d &quot;$venv_path&quot; ]]; then
        echo &quot;Creating virtual environment: $venv_path&quot;
        &quot;$py&quot; -m venv &quot;$venv_path&quot; --system-site-packages || return 1

        echo &quot;export PYTHON=$py&quot; &gt;&gt; &quot;$activate_script&quot;

        echo &quot;Upgrading pip in new virtual environment...&quot;
        source &quot;$activate_script&quot;
        &quot;$py&quot; -m pip install --upgrade pip || return 1
        deactivate # Deactivate to avoid confusion
        echo &quot;Virtual environment created and pip upgraded.&quot;

    else
        echo &quot;Activating existing virtual environment: $venv_path&quot;
    fi

    source &quot;$activate_script&quot; || return 1
    echo &quot;Virtual environment activated.&quot;
}
</code></pre>

<p>The function first checks if a virtual environment is already active by looking for the <code>VIRTUAL_ENV</code> environment variable. If we&rsquo;re in a virtual environment already, the script will exit gracefully.</p>
<p>If we are not in a virtual environment AND there&rsquo;s no <code>.venv</code> folder found in the current directory, it will create a new virtual environment and then activates the environment.</p>
<p>Finally, it upgrades pip within the new virtual environment to ensure you have the latest version.</p>
<p>You can add this function to your shell configuration like <code>.bashrc</code>, <code>.zshrc</code>, or equivalent shell configuration file. This will make the <code>ve()</code> function available in your terminal.</p>
    </div>
    
    
    <p class="tags">
        
        <span class="tag">#blog</span>
        
    </p>
    
    
    <nav class="post-navigation">
        
        <div class="nav-links">
            
            <div class="nav-previous">
                <a href="comprehensive-theses/2020-11-24-filsafat-politik.html" rel="prev">
                    ← Filsafat Politik
                </a>
            </div>
            
            
            
            <div class="nav-next">
                <a href="2025-02-12-notes-from-so-you-think-you-know-git-fosdem-2024.html" rel="next">
                    Notes from "So You Think You Know Git - FOSDEM 2024" →
                </a>
            </div>
            
        </div>
        
    </nav>
</article>

    </main>

    <footer>
        <p class="copyright">© 2025 Aaron P. Murniadi</p>
        <script src="script.js"></script>
    </footer>
    </body>

</html>